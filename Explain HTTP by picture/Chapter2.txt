Chapter2：简单的HTTP协议

HTTP协议用于客户端和服务端之间的通信
请求访问文本或者图像等资源的一端称为客户端，而提供资源响应的一端称为服务端。
客户端和服务端的角色可以互换，但是，就一条通信路线来说，服务端和客户端的角色是确定的，而用HTTP协议能够明确区分哪端是客户端，哪端是服务端。

通过请求和响应的交换达成通信
HTTP协议规定，请求从客户端发出，最后服务器端响应该请求并返回。换句话说，肯定是从客户端开始建立通信的，服务器端在没有接收到请求之前不会发送响应。
下面是从客户端发送给某个HTTP服务器端的请求报文中的内容：
GET/index.html HTTP/1.1
Host:hackr.jp
起始行开头的GET表示请求访问服务器的类型，称为方法（method）。
随后的字符串index/html指明了请求访问的资源对象，也叫作请求URI（request-URI）。
最后的HTTP/1.1，即HTTP的版本号，用来提示客户端使用的HTTP协议功能。
综合来说，这段请求内容的意思是：请求访问某台HTTP服务器上的/index.html页面资源。
请求报文是由请求方法、请求URL、协议版本、可选的请求首部报文段和内容实体构成的。

例如：
POST（方法） /form/entry（URI） HTTP/1.1（协议版本）
HOST：hackr.jp
Connection: keep-alive
Content-Type: application/x-www-form-urlencoded
Content-Length: 16
（请求首部字段）
name=ueno&age=37
（内容实体）

接收到请求的服务器，会将请求内容的处理结果以响应的形式返回。
例如：
HTTP/1.1 200 OK
Data: Tue,10 Jul 2012 06:50:15 GMT
Content-Length: 362
Content-Type: text/html

<html>
......

HTTP/1.1表示服务器对应的HTTP版本
200 OK表示请求的处理结果的状态码（status code）和原因短语（reason-phrase）。
下一行显示了创建响应的日期时间，是首部字段（header field）内的一个属性。
接着以一空行分隔，之后的内容称为资源实体的主题（entity body）。
响应报文基本上由协议版本，状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体构成。

HTTP是不保存状态的协议
HTTP是一种不保存状态，即无状态（stateless）协议。HTTP协议自身不对请求和响应之间的通信状态进行保存。
也就是说在HTTP这个级别，协议对于发送过的请求或响应都不做持久化处理。
使用HTTP协议，每当有新的请求发送时，就会有对应的新响应产生，协议本身并不保留之前一切的请求或响应报文的信息。
这是为了更快的处理大量事物，确保协议的可伸缩性。
但是，有时需要保存用户状态，于是引入了Cookie技术。有了Cookie再用HTTP协议通信，皆可以管理状态了

请求URI定位资源
当客户端请求访问资源而发送请求时，URI需要将作为请求报文中的请求URI包含在内。
URI为完整的请求URI:
GET http://hackr.jp/index.html HTTP/1.1
在首部字段Host中写明网络域名或IP地址:
GET /index.html HTTP/1.1
Host: hackr.jp
除此以外，如果不是访问特定资源而是对服务器本身发起请求，可以用一个*来代替请求URI。
下面这个例子就是查询HTTP服务器端支持的HTTP方法种类：
OPTIONS * HTTP/1.1