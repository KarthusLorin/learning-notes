Chapter7：确保Web安全的HTTPS

7.1——HTTP的缺点
HTTP主要有这些不足，如下：
1.通信使用明文（不加密），内容可能会被窃听。
2.不验证通信方的身份，因此有可能遭遇伪装。
3.无法证明报文的完整性，所以有可能已遭篡改。
另外，用Java和PHP等编程语言开发的Web应用也可能存在安全漏洞。

7.1.1——通信使用明文可能会被窃听
由于HTTP本身不具备加密的功能，所以也无法做到对通信整体（使用HTTP协议通信的请求和响应的内容）进行加密，即，HTTP报文使用明文方式发送。
一：TCP/IP是可能被窃听的网络
按TCP/IP协议族的工作机制，通信内容在所有的通信线路上都有可能遭到窥视。
即使已经经过加密的通信，也会被窥视到通信内容，这点和未加密的通信时相同的。
只是说，如果通信经过加密，就有可能让人无法破解报文信息的含义，但加密处理后的报文信息本身还是会被看到的。
如何窃听？
只需要收集在互联网上流动的数据包（帧）就行了，对于收集来的数据包的解析工作，可交给那些抓包（Packet Capture）或嗅探器（Sniffer）工具。
二：加密处理防止被窃听
在目前正在研究的如何防止窃听保护信息的几种对策中，最为普及的就是加密技术，加密的对象可以有这么几个：
1.通信的加密
HTTP协议中没有加密机制，但可以通过和SSL（Secure Socket Layer，安全套接层）或TLS（Transport Layer Security，安全传输层协议）的组合使用，加密HTTP的通信内容。
用SSL建立安全通信线路之后，就可以在这条线路上运行HTTP通信了，与SSL组合使用的HTTP被称为HTTPS（HTTP Secure，超文本传输安全协议）或HTTP over SSL。
2.内容的加密
还有一种将参与通信内容本身加密的方式，由于HTTP协议中没有加密机制，那么就对HTTP协议传输的内容本身加密，即把HTTP报文里所含的内容进行加密处理。
在这种情况下，客户端需要对HTTP报文进行加密处理后再发送请求。
为了做到有效的内容加密，前提是要求客户端和服务器同时具备加密和解密机制，主要应用在Web服务中。
由于该方式不同于SSL或TLS将整个通信线路加密处理，所以内容仍然有被篡改的风险。

7.1.2——不验证通信方的身份就可能遭遇伪装
HTTP协议中的请求和响应不会对通信方进行确认，也就是说存在“服务器是否就是发送请求中URI真正指定的主机，返回的响应是否真的返回到实际提出请求的客户端”等类似问题。
一：任何人都可发起请求
在HTTP协议通信时，由于不存在确认通信方的处理步骤，任何人都可以发起请求，另外，服务器只要接收到请求，不管对方是谁都会返回一个响应。
HTTP协议的实现本身非常简单，不论是谁发送过来的请求都会范围响应，因此不确认通信方，会存在以下各种隐患。
1.无法确认请求发送至目标的Web服务器是否是按真实意图返回响应的那台服务器，可能是已伪装的Web服务器。
2.无法确定响应返回到的客户端是否是按真实意图接收响应的那个客户端，有可能是已伪装的客户端。
3.无法确定正在通信的对方是否具备访问权限，因为某些Web服务器上保存着重要信息，只想发给特定用户通信的权限。
4.无法判定请求来自何方、出自谁手。
5.即使是无意义的请求也会照单全收，无法阻止海量请求下的Dos攻击（Denial of Service，拒绝服务攻击）
二：查明对手的证书
